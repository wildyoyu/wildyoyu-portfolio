/* =========================
   Fuentes variables
   ========================= */
@import "@fontsource-variable/inter/index.css";
@import "@fontsource-variable/newsreader/index.css";

/* =========================
   Tokens & base
   ========================= */
:root{
  --bg: #0a1914;        /* verde oscuro */
  --fg: #e8ecef;
  --muted: #9aa4ad;
  --accent: #89c2ff;

  --maxw: 1200px;
  --radius: 18px;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
  --card-b: rgba(255,255,255,.08);   /* borde sutil común */
  --nav-h: 60px;                     /* altura aprox. navbar para scroll-padding */
}

/* Reset suave */
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; height:100%; }
img,picture,video,canvas{ display:block; max-width:100%; }

/* Base tipográfica/tema */
html{
  color-scheme: dark;
  background: var(--bg);
  color: var(--fg);
  font: 400 16px/1.6 InterVariable, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

  /* anclas suaves y compensación por navbar */
  scroll-behavior: smooth;
  scroll-padding-top: calc(var(--nav-h) + 12px);
}
body{
  min-height: 100dvh;
  overscroll-behavior-y: contain; /* evita rebote */
}

@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* Links */
a{ color: inherit; text-decoration: none; }
a:hover{ text-decoration: underline; }

/* Utilidad: solo lectores de pantalla */
.sr{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* Utilidades tipográficas */
.h1{
  font-family: "Newsreader Variable", InterVariable, serif;
  font-variation-settings: "opsz" 32;
  font-size: clamp(2rem, 6vw, 4.5rem);
}
.h2{ font-size: clamp(1.25rem, 2.6vw, 1.75rem); font-weight: 900; }
.lead{ font-size: clamp(1rem, 2.2vw, 1.125rem); opacity: .9; }

/* Layout */
.container{ width:min(100% - 2rem, var(--maxw)); margin-inline:auto; }
.section{ padding-block: clamp(48px, 8vw, 120px); }
.center{ display:grid; place-items:center; }
.card{
  background: rgba(255,255,255,.035);
  border:1px solid var(--card-b);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* =========================
   Tabs (Galería)
   ========================= */
.tabs{ display:flex; gap:10px; flex-wrap:wrap; margin-bottom:12px; }
.tab{
  padding:.55rem .9rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  font-weight:800; letter-spacing:.2px; cursor:pointer;
}
.tab.is-active{ background: var(--fg); color: var(--bg); border-color: transparent; }

/* =========================
   Rejilla tipo Instagram
   ========================= */
.ig-grid{ display:grid; gap:6px; }
@media (max-width: 680px){ .ig-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 681px) and (max-width: 1024px){ .ig-grid{ grid-template-columns: repeat(4, 1fr); } }
@media (min-width: 1025px){ .ig-grid{ grid-template-columns: repeat(5, 1fr); } }

.tile{
  position:relative; overflow:hidden; border-radius:8px;
  background: rgba(255,255,255,.035);
  border:1px solid var(--card-b);
}
.tile .thumb{ width:100%; aspect-ratio:1/1; overflow:hidden; }
.tile img{ width:100%; height:100%; object-fit:cover; display:block; }

/* =========================
   Botones
   ========================= */
.btn{
  display:inline-flex; align-items:center; gap:10px;
  padding:.85rem 1.2rem; border-radius:999px;
  font-weight:800; letter-spacing:.2px; text-decoration:none;
  border:1px solid rgba(255,255,255,.14);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease, color .15s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,.18);
  will-change: transform;
}
.btn:focus-visible{ outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 60%, transparent); }
.btn-primary{ background: var(--fg); color: var(--bg); border-color: transparent; }
.btn-primary:hover{ transform: translateY(-1px); }
.btn-primary:active{ transform: translateY(0); box-shadow: none; }
.btn-outline{ background: transparent; color: var(--fg); border-color: rgba(255,255,255,.32); }
.btn-outline:hover{ background: color-mix(in oklab, var(--fg) 10%, transparent); transform: translateY(-1px); }
.btn-xl{ padding: 1rem 1.3rem; font-size: clamp(1rem, 2.2vw, 1.1rem); }
.btn-sm{ padding:.6rem .9rem; font-weight:700; font-size:.95rem; }
.btn svg, .btn .i{ width:1.05em; height:1.05em; flex-shrink:0; }
.cta-wrap{ margin-top:1.2rem; display:flex; justify-content:center; }

/* Fallback global mínimo para los botones del visor (cap-btn) */
.cap-btn{
  all: unset;
  box-sizing: border-box;
  width: 40px; height: 40px;
  border-radius: 9999px;
  background: #fff; color: #111;
  border: 1px solid #e5e7eb;
  display: grid; place-items: center;
  cursor: pointer;
}
.cap-btn svg{ width:22px; height:22px; display:block; }
.cap-like.liked{ color:#e11d48; }
.cap-like.liked svg{ fill: currentColor; }

/* =========================
   Animaciones por scroll (opt-in)
   ========================= */
/* Hero “tipo Apple” (usa .hero-visual en tu img/figure) */
.hero-visual{
  view-timeline-name: --hero; view-timeline-axis: block;
  animation-timeline: --hero; animation-name: hero-zoom;
  animation-range: entry 0% cover 150%; animation-fill-mode: both;
  transform-origin: center center;
}
@keyframes hero-zoom{
  from{ transform: scale(.90) translateY(10vh); opacity:.72; }
  to  { transform: scale(1.30) translateY(-6vh); opacity:1; }
}

/* Tarjetas con elevación por scroll (usa .parallax-card) */
.parallax-card{
  view-timeline-name: --card; view-timeline-axis: block;
  animation-timeline: --card; animation-name: parallax-rise;
  animation-range: entry 0% cover 80%; animation-fill-mode: both;
  transform: translateY(12vh) scale(.96); opacity:.68;
  overflow: clip; border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  outline: 1px solid rgba(255,255,255,.06);
}
@keyframes parallax-rise{ to{ transform: translateY(-6vh) scale(1.06); opacity:1; } }

/* Sticky wrapper tipo Apple (opt-in) */
.sticky-wrap{ position:relative; height:200svh; }
.sticky{ position:sticky; top:0; height:100svh; display:grid; place-items:center; }

/* Hints de performance */
.hero-visual, .parallax-card{ will-change: transform; }
/* Oculta controles antiguos del visor anterior (si quedaron en el DOM) */
.ylb__btn--fit,
.ylb__btn--open {
  display: none !important;
}
